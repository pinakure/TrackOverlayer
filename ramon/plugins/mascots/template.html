<!DOCTYPE html>
<!---------------------------------
    EXAMPLE tRAckOverlayer TEMPLATE
    -------------------------------
    You can use this file as starting point to write the frontend .html file for your plugin.
    Many variables and methods can be autotranslated when this file is processed by the plugin,
    most of them are explained below.
--><html type="plugin" version="0.?" author="smiker@m4gtracker.com">
    <head>
    <!--./{%-name-%}.css
        Loads the autogenerated css file, which contains all the plugin visual settings translated to css rules 
        This line is periodically updated if debugging is enabled, to allow quick feedback when editing its settings
        causing the css to reload without actually reloading the web. 
        Open this css to check how to use the vars inside this document's <style> tag if required.
    --> <link rel="stylesheet" type="text/css" href="./{% name %}.css">
    <!--{%-Name-%} 
        Translates as the name of the plugin with its first letter uppercased.
        Always use this tag when referencing the plugin javascript object, as it will allow plugin identity mangling.
    --> <title>{% Name %}</title>
        <style>
        
        /*  {%-fonts-%} 
            Injects the Base64 font collection to be available. 
            Do not use this tag on plugins not needing any text displayed, as it will
            increase the overall memory usage with no use.
        */  {% fonts %}
        
        /*  {%-fullsized-%} 
            Tells the CSS about the plugin being maximized to the size of the navigator fully
            So in the end it injects a width: 100%, height: 100% in both html and body, with 
            the classic overflow: hidden so the plugin won't show scrollbars and applies 
            padding: 0px, margin 0px so all elements can take the most possible available space.
        */  {% fullsized %}
            * { overflow: hidden;}
            canvas {
                width           : 100%;
                height          : 100%;
                image-rendering : pixelated;
                background      : var(--backdrop-color);
            }
        </style>
    </head>
    <body>
    <!--id="{%-name-%}" 
        This is the main container, it should have the same id as the name of the plugin, 
        which is conveniently autotranslated by writing this {% name %} tag 
    --> <div id="{% name %}">
            <div id="output"></div>
        </div>        
        
        <script>
            // {%-plugin-%} Injects common globals (True, False, alternate, forwards, backwards...)
            {% plugin %}

            // Main object should follow this nomenclacy for clarity sake
            // {%-Name-%} translates as the name of the plugin with first letter uppercased            
            var {% Name %} = {
                
                // Fill this object with direct pointers to each manageable node
                dom : {

                    // {%-name-%} translates to the name of the plugin all lowercased
                    // {%-name-%} should match the id of the main plugin container, so for convenience we use 
                    // the same tag for the plugin. 
                    // This practice, altough being hard to make up to, allows to mangle the frontend elements
                    // and have multiple instances of the same plugin running inside the same environment.
                    {% name %}      : document.getElementById('{% name %}'),
                    parent          : document.getElementById('output'),
                },

                
                // {%-framework-%} Injects common plugin methods ( loadSettings, updateCSS, messageHandler, common attributes )
                {% framework %}
                
       
                update : function(){
                    // Read localstorage and do actions, this is called 
                    // periodically, most specific when 'update-data' js-event
                    // is sent from the parent. 
                },
                
                start : function(){
                    // Do initializations here, there is some work done 
                    // in the hoods which may be automatically injected 
                    // from the backend at some point, if feasible
                    
                    // Declare and load initial plugin settings (same as autoinjected css vars, but in js)
                    {% Name %}.loadSettings();

                    // Register messageHandler (crucial for autoupdate)
                    {% Name %}.messageHandler();
                    
                    // If plugin needs it, make a first call to update
                    // before entering sleep mode
                    {% Name %}.update();       
                }
            }
            // Dont forget to start the plugin after defining its class!
            {% Name %}.start()
        </script>
    </body>
</html>