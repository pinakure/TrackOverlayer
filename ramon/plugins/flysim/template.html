<!DOCTYPE html>
<html type="plugin" version="0.?" author="smiker@m4gtracker.com">
    <head>
        <link rel="stylesheet" type="text/css" href="./css/{% name %}.css">
        <title>{% Name %}</title>
    <!--vpu.js
        The Vfx Processing Unit, a pixelart canvas handling class       
    --> <script src="files/flysim/vpu.js"></script>
    <!--simulation.js
        Simulation data object container
    --> <script src="files/flysim/simulation.js"></script>
    <!--fly.js
        Fly entity class, with its methods and attributes
    --> <script src="files/flysim/fly.js"></script>
    <!--swarm.js
        Handler class to manage all instanced flies and stablish simple interaction rules, then store the data as simulation object
    --> <script src="files/flysim/swarm.js"></script>
        <style>
            {% fullsized %}

            canvas, body {
                overflow        : hidden;
                width           : 100%;
                height          : 100%;
                image-rendering : pixelated;
                background      : var(--backdrop-color);
            }
        </style>
    </head>
    <body>
        <canvas id="canvas" noid="{% name %}" width="320" height="240"></canvas>        
        
        <script>
            {% plugin %}
        
            var {% Name %} = {
        
                dom : {
                    {% name %}      : document.getElementById('canvas'),
                },

                {% framework %}
                
       
                update : function(){
                    
                },
                
                start : function(){
                    {% Name %}.loadSettings();
                    {% Name %}.messageHandler();
                    {% Name %}.update();       
                    VPU.init();
                    Swarm.init();
                    setInterval(function(){Swarm.loop()}, Swarm.update_speed);
                    setInterval(function(){Swarm.render()}, Swarm.redraw_speed);
                }
            }
            {% Name %}.start()
        </script>
    </body>
</html>